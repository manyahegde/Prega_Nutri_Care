<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial=scale=1.0, maximum-scale=1.0">
  <title>Home</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    body {
      background-color: rgb(226, 211, 226);
      background-image: url(women_1.png), url(logo3.png); 
      background-size: 450px, 250px; 
      background-repeat: no-repeat, no-repeat; 
      background-position: 770px 50px, 10px 10px; 
      overflow-y: auto;
    }

    .inv {
      width: 1000px; 
      height: 650px; 
      overflow: hidden;
      padding-left: 0px; 
      padding-top: 250px; 
      float: left;
      margin-left: 70px;
    }

    .text {
      font-family: Optima, sans-serif;
      font-size: 65px;
      padding: 5px;
      margin-left: 0;
    }

    .navbar-nav .dropdown:hover .dropdown-menu {
      display: block;
    }

    .dropdown-menu .dropdown-item:hover {
      color: rgb(217, 78, 143); 
      background-color: rgb(230, 196, 214);
    }

    .dropdown-menu {
      background-color: rgb(230, 196, 214); 
    }

    .dropdown-menu .dropdown-item {
      color: black;
    } 
    
    .accordion {
      background-color: #b8a9bd;
      color: #1b1818;
      cursor: pointer;
      padding: 18px;
      width: 100%;
      border: none;
      text-align: left;
      outline: none;
      font-size: 15px;
      transition: 0.4s;
    }

    .active, .accordion:hover {
      background-color: #be87b1; 
      color: azure;
    }

    .panel {
      padding: 0 18px;
      display: none;
      background-color: rgb(161, 146, 194);
      overflow: hidden;
      color: rgb(170, 161, 153);
    }

    .faqs-section {
      margin-top: 20px; 
      border: 2px solid #000;
      padding: 20px;
      position: absolute; 
      top: calc(100% + 20px); 
      left: 75px; 
      width: 85%;     
    }

    .button {
      display: inline-block;
      padding: 10px 20px;
      background-color: #4b617e; 
      color: #fff;
      text-decoration: none;
      border-radius: 5px;
    }

    .button:hover {
      background-color: #151617; 
    }

    .para {
      font-family:Comic Sans MS, Comic Sans, cursive;
      font-size: larger;
    }
  </style>
  <link rel="stylesheet" href="chatbot.css">
</head>
<body>
  <section>
    <nav class="navbar navbar-expand-lg navbar-light" style="position: absolute; top: 10px; right: 10px;">
      <div class="container">
        <ul class="navbar-nav ">
          <li class="nav-item dropdown">
            <button class="nav-link dropdown-toggle btn"  >
              Nutrition Information
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Fat</a></li>
              <li><a class="dropdown-item" href="#">Protein</a></li>
              <li><a class="dropdown-item" href="#">Fibre</a></li>
              <li><a class="dropdown-item" href="#">Starchy Food</a></li>
              <li><a class="dropdown-item" href="#">Sugar</a></li>
              <li><a class="dropdown-item" href="#">Vitamins and Minerals</a></li>
              <li><a class="dropdown-item" href="#">Hydration</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <button class="nav-link dropdown-toggle btn">
              Health Conditions
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Cancer</a></li>
              <li><a class="dropdown-item" href="#">Arthritis</a></li>
              <li><a class="dropdown-item" href="#">Type 2 Diabetes</a></li>
              <li><a class="dropdown-item" href="#">Heart disease</a></li>
              <li><a class="dropdown-item" href="#">Osteoporosis</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>
  </section>
  <section class="inv">
    <h2 class="text">Fueling Your 5 Month Pregnancy Journey with Nutritional Excellence</h2>
    <p class="para">Track your bump here: <span><a href="bump_path.html" class="button">Maternal Nutrition Tracker</a></span></p>
    <p class="para">Explore monthly nutrition here: <span><a href="months.html" class="button">Nutrition Hub</a></span></p>
  </section>
  <section class="faqs-section">
    <div class="accordion-border">
      <h2>FAQs</h2>
      <button class="accordion">What is obesity?</button>
      <div class="panel">
        <p>Overweight and obesity are defined as abnormal or excessive fat accumulation that presents a risk to health. A
          body mass index (BMI) over 25 is considered overweight, and over 30 is obese.</p>
      </div>
      <button class="accordion">What is fat?</button>
      <div class="panel">
        <p>Fat is an important part of a healthy, balanced diet. We need some fat in our diets to help us absorb the
          vitamins A, D, E and K. Fats are also a source of essential fatty acids, which the body cannot make itself.</p>
      </div>
      <button class="accordion">How can I reduce my risk of osteoporosis?</button>
      <div class="panel">
        <p>Many risk factors can lead to bone loss and osteoporosis. Some of these things you cannot change like:
          Your genetics - osteoporosis tends to run in families, so if a family member has osteoporosis, there is a greater chance that you will too.
          Your gender - women are more at risk.
          Your age - older people are more at risk.
          Your ethnicity - White and Asian women have the highest risk. Black and Hispanic women have the lowest risk.
          But there are other things that you can change, and there are many steps you can take to help keep your bones healthy.</p>
      </div>
    </div>
  </section>

  <!-- Chatbot Section -->
  <div class="chatbot-trigger" onclick="toggleChatbot()">
    <img src="chatbot.png" class="chatbot-img" alt="Chatbot Image">
  </div>

  <div class="chat-container" id="chatContainer" style="display: none;">
    <div class="chat-header">
      <h3>Chatbot</h3>
      <button class="minimize-btn" onclick="toggleChatbot()">-</button>
    </div>
    <div class="chat-content" id="chatContent">
      <div class="message received">Hello! How can I help you?</div>
    </div>
    <div class="chat-input">
      <input type="text" id="userInput" placeholder="Type your message...">
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script>
    function toggleAnswer(id) {
      var answer = document.getElementById(id);
      if (answer.style.display === "none") {
        answer.style.display = "block";
      } else {
        answer.style.display = "none";
      }
    }

    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
      acc[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.display === "block") {
          panel.style.display = "none";
        } else {
          panel.style.display = "block";
        }
      });
    }

    // Function to toggle chatbot display
    function toggleChatbot() {
      var chatContainer = document.getElementById('chatContainer');
      if (chatContainer.style.display === 'none') {
        chatContainer.style.display = 'block';
      } else {
        chatContainer.style.display = 'none';
      }
    }

    // Function to send user message
    function sendMessage() {
      var userInput = document.getElementById('userInput').value;
      if (userInput.trim() === '') return;

      var chatContent = document.getElementById('chatContent');
      var message = document.createElement('div');
      message.textContent = userInput;
      message.classList.add('message', 'sent');
      chatContent.appendChild(message);

      // Clear input field after sending message
      document.getElementById('userInput').value = '';

      // Send user message to backend for response
      fetch('/chat', {  // Updated endpoint to /chat
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ message: userInput })
      })

      .then(response => response.json())
      .then(data => receiveResponse(data.response))
      .catch(error => console.error('Error:', error));
    }

    // Function to display response
    function receiveResponse(response) {
      var chatContent = document.getElementById('chatContent');
      var message = document.createElement('div');
      message.textContent = response;
      message.classList.add('message', 'received');
      chatContent.appendChild(message);
    }
  </script>
</body>
</html>
